<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>Success</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body style="background-image:url('Group 3 logo.jpg'); background-size:70% auto; background-repeat:no-repeat; background-position:center; height:95vh; margin:0; display:flex; align-items:center; justify-content:center;">
  <div class="top-bar" style="position:fixed;top:0;left:0;right:0;height:56px;background:#1976d2;box-shadow:0 2px 6px rgba(0,0,0,0.15);z-index:1000;display:flex;align-items:center;padding:0 16px;color:#fff;font-weight:600;">
    Group 3 <a href="members.html" style="margin-left: 20px; color: inherit; text-decoration: none;">Members</a>
  </div>
  <div class="container" style="position:relative; text-align:center">
    <h1>Successfully Logged In, Congrats!</h1>
    <h2 id="greeting" style="font-size:18px;margin-top:8px;color:var(--muted)">Hello</h2>
    <div style="margin-top:18px">
      <button id="close-popup" aria-label="Close" title="Close" style="position:absolute;top:12px;right:12px;border:0;background:#fff;color:#000;padding:6px 8px;border-radius:6px;cursor:pointer;font-size:16px;box-shadow:0 2px 6px rgba(0,0,0,0.15)">✕</button>
      <button id="logout" style="padding:10px 16px;border-radius:8px;border:0;background:#ef4444;color:#fff;cursor:pointer">Logout</button>
    </div>
  </div>
  <script>
    (function(){
      var userEmail = localStorage.getItem('currentUser');
      var accounts = JSON.parse(localStorage.getItem('accounts') || '{}');
      if (!userEmail || !accounts[userEmail]) {
        // no logged-in user — go back to login
        window.location.href = 'login.html';
        return;
      }
      var name = accounts[userEmail].name || userEmail;
      var greeting = document.getElementById('greeting');
      if (greeting) greeting.textContent = 'Hello, ' + name;

      document.getElementById('logout').addEventListener('click', function(){
        localStorage.removeItem('currentUser');
        window.location.href = 'login.html';
      });

      // Close (X) button: hide the popup container
      var closeBtn = document.getElementById('close-popup');
      if (closeBtn) {
        closeBtn.addEventListener('click', function(){
          var container = document.querySelector('.container');
          if (container) container.style.display = 'none';
        });
      }

      // Allow Escape key to close the popup
      document.addEventListener('keydown', function(e){
        if (e.key === 'Escape') {
          var container = document.querySelector('.container');
          if (container) container.style.display = 'none';
        }
      });
    })();
  </script>
</body>
</html>
